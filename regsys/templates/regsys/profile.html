<!DOCTYPE html>
<html lang="en-US">

<head>
	{% load static %}
	<link rel="stylesheet" href="{% static 'regsys/style.css' %}">
	<meta charset="utf-8" />
	<title>Профиль</title>
	<link rel="icon" href="{% static 'regsys/images/favicon.png' %}" type="image/png">
</head>

<body class="background">
	{% if messages %}
	<div class="messages">
		{% for message in messages %}
		<p{% if message.tags %} class="message_{{ message.tags }} text-caption" {% endif %}>{{ message }}</p>
			{% endfor %}
	</div>
	{% endif %}

	<div class="parent">

		<div class="navbar text-label">
			{% for name, link in navbar.items %}
			{% if name == "Профиль" %}
			<a class="navbar_current" href="{% url link %}">{{ name }}</a>
			{% else %}
			<a class="navbar_link" href="{% url link %}">{{ name }}</a>
			{% endif %}
			{% endfor %}
		</div>

		<div class="block_in_group">
			<form action="{% url 'dispatcher' %}" method="post">
				{% csrf_token %}
				<p class="text-header-black col-primary-800">Данные для входа:</p>
				<div class="text-field">
					<label class="text-field__label text-caption" for="email">Электронная почта</label>
					<input class="text-field__input text-regular" type="text" id="email" name="email" disabled
						placeholder="{{ guest.user.username }}">
				</div>
				<div class="text-field">
					<label class="text-field__label text-caption" for="old">Старый пароль</label>
					<input class="text-field__input text-regular" type="password" id="old" name="old"
						placeholder="Введите старый пароль">
				</div>
				<div class="text-field">
					<label class="text-field__label text-caption" for="new">Новый пароль</label>
					<input class="text-field__input text-regular" type="password" id="new" name="new"
						placeholder="Введите новый пароль">
				</div>
				<p class="text-caption col-base-500">Пароль содержать как минимум 8 символов, одну заглавную букву и одну цифру</p>
				<p class="text-caption col-base-500">После изменения пароля потребуется заново зайти в профиль</p>
				<table>
					<tr>
						<td><button type="submit" id="submit" name="submit" class="primary-button text-label"
								value="edit_creds">Изменить пароль</button>
						</td>
					</tr>
				</table>
			</form>
		</div>

		<div class="block_in_group">
			<form action="{% url 'dispatcher' %}" method="post">
				{% csrf_token %}
				<p class="text-header-black col-primary-800">Личная информация:</p>
				<div class="text-field">
					<label class="text-field__label text-caption" for="surname">Фамилия</label>
					<input class="text-field__input text-regular" type="text" id="surname" name="surname"
						placeholder="{{ guest.surname }}">
				</div>
				<div class="text-field">
					<label class="text-field__label text-caption" for="firstname">Имя</label>
					<input class="text-field__input text-regular" type="text" id="firstname" name="firstname"
						placeholder="{{ guest.firstname }}">
				</div>
				<div class="text-field">
					<label class="text-field__label text-caption" for="patronymic">Отчество</label>
					<input class="text-field__input text-regular" type="text" id="patronymic" name="patronymic"
						placeholder="{{ guest.patronymic }}">
				</div>
				<div class="text-field">
					<label class="text-field__label text-caption" for="school">Место обучения</label>
					<input class="text-field__input text-regular" type="text" id="school" name="school"
						placeholder="{{ guest.school }}">
				</div>
				<div class="text-field">
					<label class="text-field__label text-caption" for="phone">Телефон</label>
					<input class="text-field__input text-regular" type="text" id="phone" name="phone"
						placeholder="{{ guest.phone }}">
				</div>
				<div class="text-field">
					<label class="text-field__label text-caption" for="telegram">Телеграм</label>
					<input class="text-field__input text-regular" type="text" id="telegram" name="telegram"
						placeholder="{{ guest.telegram }}">
				</div>
				<div class="text-field">
					<input type="checkbox" id="agree" name="agree" required>
					<label class="text-field__label text-caption" for="agree">Я даю согласие на 
						<a href="{% static 'regsys/data-agreement.pdf' %}" download="data-agreement.pdf">обработку персональных данных</a></label>
				</div>
				<button type="submit" id="submit" name="submit" class="primary-button text-label"
					value="edit_info">Сохранить</button>
			</form>
		</div>
	</div>
</body>

</html>